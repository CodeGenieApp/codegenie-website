---
title: Frontend/UI Walkthrough
description: A walkthrough of the Frontend/UI
---

Code Genie projects include a Single Page Application (SPA) Web App, including pages, components, and API integrations for all Entities defined in your [App Definition](../spec/app-definition).

This guide will cover everything you need to know to build, deploy, and extend your application's front end.

## Core Technology

The web app utilizes the following core technologies:

- [React](https://react.dev/)
- [Next.js](https://nextjs.org/) - Enables simple bundling, routing, and other benefits when building React applications
- [Ant Design](https://ant.design/) - A powerful, flexible, and stylable React component library
- [React Query](https://tanstack.com/query/v3/) - Simplifies state management when making API calls
- [AWS Amplify Client Library](https://aws-amplify.github.io/amplify-js/api/index.html) - Provides client side integration for Cognito Auth
- [AWS Amplify Hosting](https://aws.amazon.com/amplify/hosting/) - Hosts our web app

## Project Structure Overview

The frontend package exists within the `./packages/ui` directory.

import FileTree from '../../../../components/file-tree.astro'

<FileTree>
- components
  - Widget 1 component directory per entity
    - WidgetsCardList.tsx
    - WidgetData.tsx
    - WidgetDeleteModal.tsx
    - WidgetDetails.tsx
    - WidgetsTable.tsx
    - WidgetUpsertModal.tsx
    - widgetHooks.ts
  - User
    - UserData.tsx
    - UserDeleteModal.tsx
    - UserDetails.tsx
    - UserUpsertModal.tsx
    - UsersTable.tsx
    - userHooks.ts
  - layouts
    - SideMenu.tsx
    - UnauthenticatedLayout.tsx
  - AppWrapper.tsx
  - AvatarNameLink.tsx
  - GlobalLoadingIndicator.tsx
  - PageHeading.tsx
  - PageTitle.tsx
  - SubHeader.tsx
  - UserHeader.tsx
- lib
  - getPageTitle.ts
  - me.ts
  - numberFormatter.ts
  - upload.ts
  - usePages.ts
- pages
  - widgets 1 page directory per entity
    - [widgetId]
      - relatedWidgets 1 directory per related entity
        - [relatedWidgetId]
            - index.tsx
      - index.tsx
    - index.tsx
  - _app.tsx
  - _document.tsx
  - account.tsx
  - forgot-password.tsx
  - index.tsx
  - profile.tsx
  - register.tsx
  - reset-password.tsx
  - verify-account.tsx
- public
  - icons
    - ... auto-generated icons from logo.png
  - logo.png
- themes
  - base.ts
  - dark.ts
  - global.css
  - light.ts
  - theme-provider.ts
  - themes.ts
- .gitignore
- README.md
- jest.config.js
- jest.setup.js
- next-env.d.ts
- next.config.js
- package-lock.json
- package.json
- tsconfig.json
</FileTree>

## Pages

Pages are defined using the [Next.js file-system based router](https://nextjs.org/docs/pages/building-your-application/routing). They're lightweight React Components that defer most of their functionality to other Components such as Table, CardList, and Form. Pages themselves are primarily responsible for:

- Fetching data
- Setting the page title
- Rendering breadcrumbs
- Rendering high-level page layout (positioning of other components)

### Standard Pages

<FileTree>
- pages
  - _app.tsx
  - _document.tsx
  - 404.tsx
  - account.tsx
  - forgot-password.tsx
  - index.tsx login
  - register.tsx
  - reset-password.tsx
  - verify-account.tsx
</FileTree>

`_app.tsx` is the main entry point of your application. It renders the `AppWrapper` component which is responsible for initializing several core libraries and the global layout. See the `AppWrapper` component detailed in [Standard Components](#standard-components) below and the [Next.js Custom App guide](https://nextjs.org/docs/pages/building-your-application/routing/custom-app) for more information.

`_document.tsx` allows you to customize the outter document such as `<html>`, `<head>`, and `<body>` sections. Read [Next.js Custom Document](https://nextjs.org/docs/pages/building-your-application/routing/custom-document) for more details.

`404.tsx` is used to create a custom 404 page. See [Next.js Custom Errors](https://nextjs.org/docs/pages/building-your-application/routing/custom-error) for more information on customizing 404 and 500 pages.

`account.tsx` renders an Account page that lets you edit account details such as username and avatar.

Other standard pages include authentication flows such as login, register, forgot password, reset password, and verify account.

### Generated Entity Pages

<FileTree>
- pages
  - widgets list page
    - [widgetId] details page
      - relatedWidgets
        - [relatedWidgetId] related details page
            - index.tsx
      - index.tsx
    - index.tsx
</FileTree>

:::note
Throughout the documentation, we use `Widget` and `RelatedWidget` as the names of our example Entities.
:::

{/* TODO: talk about how top level entities exist at the top level in /pages and that child entities are nested accordingly */}
Pages are generated for each Entity defined in your [App Definition](../spec/app-definition). Entites marked as `isTopLevelEntity` receieve root-level routes (and appear in the [Side Nav](#standard-components)), while other pages exist under their parent entities as nested routes.

#### List Page

List Pages are generated for root Entities only and list all of the records for the Entity. The list of records can be presented as either a [Table](#table-component) or a [Card List](#card-list).

In our example, a List Page for the `Widget` Entity is generated at the `/widgets` route, however, one isn't generated for the `RelatedWidget` since records are listed on the [Details Page](#details-page) of their parent record.

:::tip[Did you know?]
You can set the [listView](../spec/app-definition#uilistview) setting on an Entity to change the list presentation of records. This setting affects how they're presented on the list page for root entities, or the details page of the parent record for nested entities.

```yaml
// .codegenie/entities/Widget.yaml
x-codeGenie
  ui:
    listView: CARD_LIST
```

It's recommended to use `CARD_LIST` when:

- There are likely to be few (\<= 12) records on the page
- Users likely won't want to compare values between records (vertical scanning of columns) or sort/filter.
:::

#### Details Page

Details Pages present information for a **single** record, including direct record properties, as well as related entities/records.

In our example, a Details Page for the `Widget` Entity is generated at the `/widgets/[widgetId]` route, and another Details Page for the `RelatedWidget` Entity is generated at the `/widgets/[widgetId]/related-widget/[relatedWidgetId]` route. See [Next.js dynamic routes](https://nextjs.org/docs/pages/building-your-application/routing/dynamic-routes) for more details.

:::tip[Did you know?]
You can choose to not generate the details page by marking the Entity with:

```yaml
// .codegenie/entities/Widget.yaml
x-codeGenie
  buildDetailsPage: false
```

It's recommended you do this for entities that are "simple"; i.e. entities that have few properties and no child relationships.
:::

## Components

### Standard Components

<FileTree>
- components
  - Me
    - MeData.tsx
    - MeDetails.tsx
    - meHooks.tsx
    - MeUpsertModal.tsx
  - User
    - UserData.tsx
    - UserDeleteModal.tsx
    - UserDetails.tsx
    - UserUpsertModal.tsx
    - UsersTable.tsx
    - userHooks.ts
  - layouts
    - SideMenu.tsx
    - UnauthenticatedLayout.tsx
  - AppWrapper.tsx
  - AvatarNameLink.tsx
</FileTree>

#### Me Components
Components and hooks for the current signed-in user. See [Generated Entity Components](#generated-entity-components) for further details on the individual components.

#### User Components
Components and hooks for other registered users. See [Generated Entity Components](#generated-entity-components) for further details on the individual components.

#### Side Menu Component
The `<SideMenu>` component renders navigation links for the top-level pages of the application.

#### Unauthenticated Layout Component
The `<UnauthenticatedLayout>` component is a layout wrapper component that includes styles for unauthenticated pages such as login, register, forgot password, etc.

#### App Wrapper Component
The `<AppWrapper>` component is responsible for initializing Auth, HTTP Client, Theme, React Query, and Global Layout. It also checks whether the user is currently logged in and either shows the requested page or the login page. This component is rendered by the main app entry point `pages/_app.tsx`.

#### Avatar Name Link Component
The `<AvatarNameLink>` component renders an image + name pair. If no image exists, it renders the first characters of the first and last words of the name.

### Generated Entity Components

<FileTree>
- components
  - Widget
    - WidgetsCardList.tsx
    - WidgetData.tsx
    - WidgetDeleteModal.tsx
    - WidgetDetails.tsx
    - WidgetsTable.tsx
    - WidgetUpsertModal.tsx
    - widgetHooks.ts
</FileTree>

#### Data Component

The `<*Data>` component renders a readonly view of a record in a column layout. The number of columns depends on the screen size, starting at 1 column for small devices (phones) and increasing to 3 columns on large devices (landscape tablets, laptops+). This component is used by the [Details Component](#details-component) and [Card List Component](#card-list-component).

Each property value renders differently based on its type:

- `nameProperty` properties are rendered as an [`<AvatarNameLink>`](#avatar-name-link-component) (only when an `imageProperty` is also defined on the Entity).
- `foreignKey` properties are rendered as links to the foreigh record. If the Foreign Entity also defines an `imageProperty`, it's rendered as an [`<AvatarNameLink>`](#avatar-name-link-component).
- `date`, `datetime`, etc. properties are rendered using [dayjs]() in `D MMM YY` format.
- `color` properties are rendered with a small square color swatch next to their color value.
- `array` properties are rendered as [`<Tag>`]()s.
- `boolean` properties are rendered as either "Yes" or "No".
- `number` properties that have a `money` or `compactNumber` format are rendered as compact numbers. A '$' symbol is also added for properties that have the `money` format.
- Everything else is rendered as plain text.

#### Details Component

{/* TODO: fix card and tabs link */}
The `<*Details>` component is primarily responsible for laying out the components on a [details page](#generated-entity-pages).

It first presents a [Card](https://antd.design/components/card) with a title that shows the record's name (rendered as an [`AvatarNameLink`](#avatar-name-link-component) if an `imageProperty` is defined on the Entity), followed by an edit button that opens an [Upsert Modal](#upsert-modal-component). The card's body renders a [Data Component](#data-component) to present all direct data for the record.

If the Entity defines any Child Entities, a list of [Tabs]() are presented below the main details card for each related Entity. Related records are presented as either a [Table](#table-component) or [Card List](#card-list-component).

#### Card List Component

The `<*CardList>` component fetches a list of records and presents them in a responsive grid (between 1 and 3 columns depending on screen size).

The Card Title renders the record's name (rendered as an [`AvatarNameLink`](#avatar-name-link-component) if an `imageProperty` is defined on the Entity) and links to the [Details Page](#details-page) for the record (unless the Entity is marked with `buildDetailsPage: false`). The title also includes an Edit button (that open an [Upsert Modal](#upsert-modal-component)) and a Delete button (that opens a [Delete Modal](#delete-modal-component)).

The Card's body renders a [Data Component](#data-component) for the record and forces it to render as a single column layout, since the cards are already in a responsive column layout.

A loading indicator is shown while the data is initially being loaded, and an empty state is shown if there are no records.

See [Ant Design Card Component]() for more details.

#### Table Component

The `<*Table>` component fetches a list of records and renders a table with columns for each of the properties defined on the Entity.

The property marked as `nameProperty` is positioned as the first column and is rendered as an [`AvatarNameLink`](#avatar-name-link-component) if an `imageProperty` is defined on the Entity. It links to the [Details Page](#details-page) for the record unless the Entity is marked with `buildDetailsPage: false`.

Other columns render values based on their property type and other metadata. See [Data Component](#data-component) for more details.

The final column in each row render Edit and Delete buttons that open an [Upsert Modal](#upsert-modal-component) and [Delete Modal](#delete-modal-component).

Nested Tables

Pagination

A loading indicator is shown while the data is initially being loaded, and an empty state is shown if there are no records.

See [Ant Design Table Component]() for more details.

#### Upsert Modal Component

The `<*UpsertModal>` component

#### Delete Modal Component

The `<*DeleteModal>` component

#### Hooks

The `*Hooks` file

## Branding and themes

<FileTree>
- themes
  - base.ts
  - dark.ts
  - global.css
  - light.ts
  - theme-provider.ts
  - themes.ts
</FileTree>

You can specify a logo and a primary brand color in your App Definition, and Code Genie will incorporate those into your generated project. See [theme.yaml](../spec/app-definition#themeyaml) and [logo.png](../spec/app-definition#logopng) in the App Definition spec for more details.

Your project includes Dark and Light themes. You can customize themes further to match your branding by modifying the design tokens in `./packages/ui/themes/base.ts`. See [Ant Design's Customize Theme Guide](https://ant.design/docs/react/customize-theme) for more information.

## Everything else

<FileTree>
- lib
  - getPageTitle.ts
  - me.ts
  - numberFormatter.ts
  - upload.ts
  - usePages.ts
- public
  - icons
    - android-chrome-144x144.png
    - ... additional sizes
    - apple-touch-icon-1024x1024.png
    - ... additional sizes
    - browserconfig.xml
    - favicon.ico
    - ... additional sizes
    - index.html
    - manifest.webmanifest
    - mstile-144x144.png
    - ... additional sizes
    - yandex-browser-50x50.png
    - yandex-browser-manifest.json
  - favicon.ico
  - logo.png
- .gitignore
- README.md
- jest.config.js
- jest.setup.js
- next-env.d.ts
- next.config.js
- package-lock.json
- package.json
- tsconfig.json
</FileTree>